var instantClick,InstantClick=instantClick=function(a,b,c){function w(a){var b=a.indexOf("#");return b<0?a:a.substr(0,b)}function x(a){for(;a&&"A"!=a.nodeName;)a=a.parentNode;return a}function y(a){do{if(!a.hasAttribute)break;if(a.hasAttribute("data-instant"))return!1;if(a.hasAttribute("data-no-instant"))return!0}while(a=a.parentNode);return!1}function z(a){var c=b.protocol+"//"+b.host;return!(a.target||a.hasAttribute("download")||0!=a.href.indexOf(c+"/")||a.href.indexOf("#")>-1&&w(a.href)==e||y(a))}function A(a,b,c,d){for(var e=!1,f=0;f<v[a].length;f++)if("receive"==a){var g=v[a][f](b,c,d);g&&("body"in g&&(c=g.body),"title"in g&&(d=g.title),e=g)}else v[a][f](b,c,d);return e}function B(b,c,f,g,h){if(0!=c&&a.documentElement.replaceChild(c,a.body),f){history.pushState(null,null,f);var i=f.indexOf("#"),j=i>-1&&a.getElementById(f.substr(i+1)),k=0;if(j)for(;j.offsetParent;)k+=j.offsetTop,j=j.offsetParent;scrollTo(0,k),e=w(f)}else scrollTo(0,g);d&&a.title==b?a.title=b+String.fromCharCode(160):a.title=b,L(),h?A("restore"):A("change",!1)}function C(){q=!1,r=!1}function D(a){return a.replace(/<noscript[\s\S]+?<\/noscript>/gi,"")}function E(a){if(!(i>+new Date-500)){var b=x(a.target);b&&z(b)&&M(b.href)}}function F(a){if(!(i>+new Date-500)){var b=x(a.target);b&&z(b)&&(b.addEventListener("mouseout",I),u?(f=b.href,g=setTimeout(M,u)):M(b.href))}}function G(a){i=+new Date;var b=x(a.target);b&&z(b)&&(t?b.removeEventListener("mousedown",E):b.removeEventListener("mouseover",F),M(b.href))}function H(a){var b=x(a.target);b&&z(b)&&(a.which>1||a.metaKey||a.ctrlKey||(a.preventDefault(),N(b.href)))}function I(){return g?(clearTimeout(g),void(g=!1)):void(q&&!r&&(k.abort(),C()))}function J(){if(!(k.readyState<4)&&0!=k.status){if(p.ready=+new Date-p.start,k.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var b=a.implementation.createHTMLDocument("");b.documentElement.innerHTML=D(k.responseText),m=b.title,o=b.body;var c=A("receive",l,o,m);c&&("body"in c&&(o=c.body),"title"in c&&(m=c.title));var d=w(l);j[d]={body:o,title:m,scrollY:d in j?j[d].scrollY:0};for(var g,h,e=b.head.children,f=0,i=0;i<e.length;i++)if(g=e[i],g.hasAttribute("data-instant-track")){h=g.getAttribute("href")||g.getAttribute("src")||g.innerHTML;for(var q=0;q<s.length;q++)s[q]==h&&f++}f!=s.length&&(n=!0)}else n=!0;r&&(r=!1,N(l))}}function K(){if(!h)return void(b.href=b.href);var a=w(b.href);if(a!=e){if(!(a in j))return void(b.href=b.href);j[e].scrollY=pageYOffset,e=a,B(j[a].title,!1,!1,j[a].scrollY,!0)}}function L(b){if(a.body.addEventListener("touchstart",G,!0),t?a.body.addEventListener("mousedown",E,!0):a.body.addEventListener("mouseover",F,!0),a.body.addEventListener("click",H,!0),!b)for(var d,e,f,g,c=a.body.getElementsByTagName("script"),h=0,i=c.length;h<i;h++)d=c[h],d.hasAttribute("data-no-instant")||(e=a.createElement("script"),d.src&&(e.src=d.src),d.innerHTML&&(e.innerHTML=d.innerHTML),f=d.parentNode,g=d.nextSibling,f.removeChild(d),f.insertBefore(e,g))}function M(a){!t&&"display"in p&&+new Date-(p.start+p.display)<100||(g&&(clearTimeout(g),g=!1),a||(a=f),q&&(a==l||r)||(q=!0,r=!1,l=a,o=!1,n=!1,p={start:+new Date},A("fetch"),k.open("GET",a),k.send()))}function N(a){return"display"in p||(p.display=+new Date-p.start),g||!q?g&&l&&l!=a?void(b.href=a):(M(a),A("wait"),void(r=!0)):r?void(b.href=a):n?void(b.href=l):o?(j[e].scrollY=pageYOffset,C(),void B(m,o,l)):(A("wait"),void(r=!0))}function P(c){if(!e){if(!O)return void A("change",!0);"mousedown"==c?t=!0:"number"==typeof c&&(u=c),e=w(b.href),j[e]={body:a.body,title:a.title,scrollY:pageYOffset};for(var f,g,d=a.head.children,h=0;h<d.length;h++)f=d[h],f.hasAttribute("data-instant-track")&&(g=f.getAttribute("href")||f.getAttribute("src")||f.innerHTML,s.push(g));k=new XMLHttpRequest,k.addEventListener("readystatechange",J),L(!0),A("change",!0),window.addEventListener("load",function(){setTimeout(function(){window.addEventListener("popstate",K,!1)},0)},!1)}}function Q(a,b){v[a].push(b)}var e,f,g,i,k,t,u,d=c.indexOf(" CriOS/")>-1,h=!1,j={},l=!1,m=!1,n=!1,o=!1,p={},q=!1,r=!1,s=[],v={fetch:[],receive:[],wait:[],change:[],restore:[]},O="pushState"in history&&(!c.match("Android")||c.match("Chrome/"))&&"file:"!=b.protocol;return{supported:O,init:P,on:Q}}(document,location,navigator.userAgent);!function(){function g(){a=document.createElement("div"),a.id="instantclick",b=document.createElement("div"),b.id="instantclick-bar",a.appendChild(b);var d=["Webkit","Moz","O"];if(c="transform",!(c in b.style))for(var e=0;e<d.length;e++)d[e]+"Transform"in b.style&&(c=d[e]+"Transform");var g="transition";if(!(g in b.style))for(var e=0;e<d.length;e++)d[e]+"Transition"in b.style&&(g="-"+d[e].toLowerCase()+"-"+g);var h=document.createElement("style");h.innerHTML="#instantclick{color:#29d;position:"+(f?"absolute":"fixed")+";top:0;left:0;width:100%;pointer-events:none;z-index:2147483647;"+g+":opacity 1s}\n#instantclick-bar{background:currentColor;width:100%;margin-left:-100%;height:2px;"+g+":all 1s}",document.head.insertBefore(h,document.head.firstChild),f&&(n(),addEventListener("resize",n),addEventListener("scroll",n))}function h(){d=0,a.style.opacity="0",k(),setTimeout(i,0),e=setTimeout(j,500)}function i(){d=10,a.style.opacity="1",k()}function j(){d+=1+2*Math.random(),d>99?d=99:e=setTimeout(j,500),k()}function k(){b.style[c]="translate("+d+"%)",document.getElementById(a.id)||document.body.appendChild(a)}function l(){clearTimeout(e)}function m(){document.getElementById(a.id)&&document.body.removeChild(a)}function n(){a.style.left=pageXOffset+"px",a.style.width=document.body.clientWidth+"px",a.style.top=pageYOffset+"px";var b="orientation"in window&&90==Math.abs(orientation),d=innerWidth/screen[b?"height":"width"]*1.34;a.style[c]="scaleY("+d+")"}var a,b,c,d,e,f="createTouch"in document;instantClick.on("change",function(a){a&&instantClick.supported?g():a||l()}),instantClick.on("wait",h),instantClick.on("restore",m)}();